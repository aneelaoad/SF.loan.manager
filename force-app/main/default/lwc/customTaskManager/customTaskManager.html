<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 05-27-2025
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
  <!-- Top Buttons Row -->
  <div class="slds-p-around_medium slds-grid slds-wrap slds-grid_align-spread">
 <!-- Top Buttons Row -->
  <div class="button-row">
    <div class="template-group">
     
             <!-- <c-template-manager></c-template-manager> -->
<c-template-manager ontemplateitemsloaded={handleTemplateItems}></c-template-manager>


    </div>

    <button class="flat-button">+ Task</button>
  
  </div>

  <!-- Category Filters -->
  <div class="category-filters">
    <span style="margin-right:10px">Sort by category</span>
  

    <template for:each={categoryList} for:item="cat">
      <div
        key={cat.name}
        class="filter-chip slds-m-right_small"
        onclick={handleCategoryClick}
        data-name={cat.name}
      >
        
        <template if:true={cat.isReset}>
            <lightning-icon icon-name={cat.icon} size="x-small" class="refresh-icon" alternative-text="Reset Filters"></lightning-icon>
        </template>
          
        <template if:false={cat.isReset}>
<span class={cat.circleClass}></span>
        <span class={cat.labelClass}>{cat.name}</span>        </template>
        
      </div>
    </template>
  </div>

  </div>



  <!-- Table Section -->
  
    <div class="slds-p-horizontal_medium">
      <template if:false={isEmpty}>
        <table class="slds-table slds-table_cell-buffer slds-table_bordered">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Category</th>
                    <th>Status</th>
                    <!-- <th>Created By</th> -->
                    <th>Owner</th>
                </tr>
            </thead>
            <tbody>
                <template for:each={filteredRows} for:item="row">
                    <tr key={row.id}>
                        <td>{row.name}</td>
                        <td>{row.category}</td>
                        <td>{row.status}</td>
                        <!-- <td>{row.createdBy}</td> -->
                        <td>{row.owner}</td>
                    </tr>
                </template>
            </tbody>
        </table>
    </template>

      <!-- Empty State (No Data) -->
      <template if:true={isEmpty}>
        <div class="slds-align_absolute-center slds-text-align_center slds-p-vertical_large empty-state">
          <img src="/assets/empty-state-ghost.svg" alt="No Data" style="width: 48px; height: 48px;" />
          <p class="slds-text-heading_small">No items or Templates</p>
          <p>Select a template or add item needed</p>
          <!-- <lightning-button label="+ Template" class="slds-m-top_medium"></lightning-button>
            -->
         <!-- <c-condition-template-manager></c-condition-template-manager> -->
        
          </div>
      </template>
    </div>

</template>