<template>

      <div class="button-group">
        <!-- Add Template Button -->
        <button class="template-button no-radius-right">
          + Add Template
        </button>

        <!-- Chevron Button -->
        <button class="template-button no-radius-left" onclick={toggleCategoryDropdown}>
          â–¼
        </button>
      </div>

      <!-- CATEGORY DROPDOWN -->
   <template if:true={isCategoryDropdownOpen}>
  <ul class="dropdown-list left">
    <template for:each={categoryOptions} for:item="cat">
      <li key={cat.value} class="dropdown-item">
        <span data-value={cat.value} onclick={handleCategoryClick}>{cat.label}</span>
        <button class="add-icon" data-category={cat.value} onclick={handleAddTemplateClick}>+</button>
      </li>
    </template>
  </ul>
</template>


      <!-- TEMPLATE DROPDOWN -->
      <template if:true={isTemplateDropdownOpen}>
        <ul class="dropdown-list right">
          <template for:each={templateOptions} for:item="template">
            <li key={template.Id} class="dropdown-item" onclick={handleTemplateClick} data-id={template.Id}>
              {template.Name}
            </li>
          </template>
        </ul>
      </template>
   <template if:true={isLoading}>
  <lightning-spinner alternative-text="Loading..." size="medium"></lightning-spinner>
</template>

<template if:true={showModal}>
  <section role="dialog" class="slds-modal slds-fade-in-open">
    <div class="slds-modal__container">
      <header class="slds-modal__header">
        <h2 class="slds-modal__title">{modalHeader}</h2>
      </header>
      <div class="slds-modal__content">
        <lightning-input
          label="Category"
          value={modalCategory}
          disabled
        ></lightning-input>
        <lightning-input
          label="Template Name"
          value={modalTemplateName}
          onchange={handleModalInputChange}
        ></lightning-input>
        <lightning-combobox
      label="Select Document to Add"
      value={modalDocumentId}
      options={documentOptions}
      onchange={handleDocumentChange}>
  </lightning-combobox>
      </div>


      <footer class="slds-modal__footer">
        <lightning-button variant="neutral" label="Cancel" onclick={handleModalCancel}></lightning-button>
        <lightning-button variant="brand" label="Save" onclick={handleModalSave}></lightning-button>
      </footer>
    </div>
  </section>
  <div class="slds-backdrop slds-backdrop_open"></div>
</template>

  
</template>